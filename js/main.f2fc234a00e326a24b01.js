(()=>{"use strict";var e,t,n,r={7325:(e,t,n)=>{var r=n(7294),a=n(3935),o=n(9617),i=n(5974),c=n(5810),l=n(4942),u=n(5861),s=n(8152),p=n(7757),m=n.n(p),f=n(1508),d=n(2658),v=n(9062),h=n(6310),g=n(9602),b=n(2116),y=(0,g.ZP)(f.Z)((function(e){var t,n=e.theme;return t={height:"4rem",width:"70%"},(0,l.Z)(t,n.breakpoints.up("sm"),{height:"8rem"}),(0,l.Z)(t,n.breakpoints.up("md"),{height:"12rem"}),t})),Z=(0,g.ZP)(f.Z)((function(e){var t,n=e.theme;return t={margin:"".concat(n.spacing(1)," 0"),width:"100%",height:"18rem"},(0,l.Z)(t,n.breakpoints.up("sm"),{height:"20rem"}),(0,l.Z)(t,n.breakpoints.up("md"),{height:"28rem"}),t})),x=(0,g.ZP)("img")((function(){return{width:"100%",height:"100%",objectFit:"cover"}})),E=(0,g.ZP)(b.Z)((function(e){return{background:e.theme.palette.common.invitationGold}})),k=n(3984),O=n(419),w=function(e){var t=e.invitation;return r.createElement(r.Fragment,null,t?r.createElement(d.Z,{dangerouslySetInnerHTML:{__html:t}}):r.createElement(r.Fragment,null,r.createElement(Z,null,r.createElement(h.Z,{width:"100%",height:"100%",url:O,controls:!0,playsinline:!0})),r.createElement(E,null),r.createElement(f.Z,{mt:1,mb:1},r.createElement(d.Z,{variant:"caption",gutterBottom:!0,paragraph:!0},"МЕСТО: Академия Кавказкой Кухни"),r.createElement(d.Z,{variant:"caption",gutterBottom:!0,paragraph:!0},"АДРЕС: слобода Талица, ул.Янтарная Слобода, 14в, зал Эльбрус"),r.createElement(d.Z,{variant:"caption"},"СБОР ГОСТЕЙ: 20.05.2022 в 16:00")),r.createElement(E,null)),r.createElement(f.Z,{mt:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},r.createElement(d.Z,{sx:{fontSize:"0.5rem"}},"ЦВЕТОВАЯ ГАММА ВЕЧЕРА:"),r.createElement(y,null,r.createElement(x,{src:k,alt:"palette"}))))};w.defaultProps={invitation:""};const j=w;var S=n(2428),P=n(4594),C=n(4065),G=(0,g.ZP)(C.Z)((function(e){var t=e.theme;return(0,l.Z)({display:"flex",minHeight:"100vh",flexDirection:"column",alignItems:"center",justifyContent:"center",background:t.palette.common.invitationGreyLight,padding:"40px 40px 10px 40px"},t.breakpoints.up("md"),{padding:"40px 160px 10px 160px"})})),_=(0,g.ZP)(f.Z)((function(e){var t=e.theme;return(0,l.Z)({width:"100%",background:t.palette.common.invitationPinkLight,textAlign:"center",padding:"30px 30px 0 30px",margin:"".concat(t.spacing(3)," 0")},t.breakpoints.up("md"),{padding:"30px 120px 0 120px"})})),F=(0,g.ZP)(P.Z)((function(e){var t=e.theme;return{borderColor:t.palette.common.invitationGold,color:t.palette.common.invitationGold,borderRadius:"10px","&:hover":{borderColor:t.palette.common.invitationGold,color:t.palette.common.invitationGold}}}));const z=function(e){var t=e.onAccept,n=e.onCloseSnackbar,a=r.useState(!1),o=(0,s.Z)(a,2),i=o[0],c=o[1],l=(0,r.useCallback)((function(){c(!0),t()}),[t]),u=(0,r.useCallback)((function(){c(!1),n()}),[n]);return r.createElement(r.Fragment,null,r.createElement(F,{onClick:l,variant:"outlined"},"Подтвердить приглашение"),r.createElement(S.Z,{open:i,action:r.createElement(F,{size:"small",onClick:u},"Ок"),anchorOrigin:{vertical:"bottom",horizontal:"center"},message:"Мы любим цветы, но после свадьбы будем в Кирове недолго, поэтому\n        предлагаем заменить букет на вино, книгу или презент на Ваше усмотрение"}))};var T=n(3144),B=n(5671),D=n(9669),M=n.n(D)().create({baseURL:"".concat("https://invitation-backend-rest.herokuapp.com","/api/guests")});const R=new((0,T.Z)((function e(){var t=this;(0,B.Z)(this,e),(0,l.Z)(this,"client",M),(0,l.Z)(this,"getGuest",(function(e){return t.client.get("/guest?id=".concat(e))})),(0,l.Z)(this,"updateGuest",(function(e){return t.client.patch("/updateGuest",e)}))})));function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const I=function(){var e=(0,r.useState)(!1),t=(0,s.Z)(e,2),n=t[0],a=t[1],o=(0,r.useState)(null),i=(0,s.Z)(o,2),c=i[0],l=i[1],p=(0,r.useState)(!1),h=(0,s.Z)(p,2),g=h[0],b=h[1],y=(0,r.useMemo)((function(){var e;return null===(e=new URLSearchParams(window.location.search))||void 0===e?void 0:e.get("id")}),[]),Z=(0,r.useCallback)(function(){var e=(0,u.Z)(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,R.getGuest(t);case 4:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===n;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=n.data;case 13:(r=e.t2)&&l(r),e.next=20;break;case 17:e.prev=17,e.t3=e.catch(0),b(!0);case 20:return e.prev=20,a(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),[]),x=(0,r.useCallback)(function(){var e=(0,u.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a(!0),!t){e.next=5;break}return e.next=5,R.updateGuest(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b(!0);case 10:return e.prev=10,a(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),[]);(0,r.useEffect)((function(){y&&Z(y)}),[Z,y]);var E=(0,r.useCallback)((function(){x({guest:A(A({},c),{},{accept:!0})})}),[x,c]),k=(0,r.useCallback)((function(){y&&Z(y)}),[Z,y]);return r.createElement(r.Fragment,null,(null==c?void 0:c.name)&&r.createElement(G,{maxWidth:!1,disableGutters:!0},r.createElement(f.Z,{textAlign:"center",width:"100%"},r.createElement(d.Z,{variant:"body1",color:"common.invitationGold"},c.name.toUpperCase()),r.createElement(d.Z,{variant:"body2",color:"common.invitationGold"},r.createElement("br",null),"Приглашаем разделить с нами".toUpperCase(),r.createElement("br",null),r.createElement("br",null),"рождение нашей семьи!".toUpperCase())),r.createElement(f.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",flexGrow:1},r.createElement(_,null,r.createElement(j,{invitation:null==c?void 0:c.invitation})),c.accept?r.createElement(d.Z,{variant:"caption",color:"common.invitationGold",sx:{fontSize:"0.7rem"}},"ВЫ ПОДТВЕРДИЛИ ПРИГЛАШЕНИЕ"):r.createElement(z,{onAccept:E,onCloseSnackbar:k}))),(g||n)&&r.createElement(f.Z,{display:"flex",height:"100vh",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},g&&r.createElement(d.Z,{variant:"h4"},"Ой, что-то пошло не так"),n&&r.createElement(v.Z,null)))};var U=n(8027);const $="\n  @font-face {\n    font-family: 'TenorSansRegular';\n    src: url(".concat(U,") format('truetype');\n    font-weight: normal;\n    font-style: normal;\n  }\n");const H=function(){return"\n    ".concat($,"\n    html {\n      height: 100%;\n      overflow-x: hidden;\n    }\n\n   html,\n   body {\n     position: relative;\n   }\n\n   body {\n     font-family: 'TenorSansRegular', sans-serif;\n     min-height: 100%;\n   }\n\n  * {\n    vertical-align: baseline;\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n    outline: none;\n    border: 0;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  }\n")};var N=n(1002),W=(0,o.Z)({palette:{common:{invitationPink:"#EFBFBF",invitationPinkLight:"#faf6f2",invitationRed:"#c86a53",invitationGrey:"#d4ddde",invitationGreyLight:"#d3d9db",invitationGold:"#ab7836",invitationBlue:"#6195a3",invitationGreen:"#2f5a5b"}},typography:{fontFamily:"TenorSansRegular, sans-serif"},components:{MuiCssBaseline:{styleOverrides:H()}}});!function(e){for(var t in e.typography){var n,r,a=null===(n=e.typography)||void 0===n?void 0:n[t];if("object"===(0,N.Z)(a))Object.assign(a,(r={},(0,l.Z)(r,e.breakpoints.up("sm"),{fontSize:"".concat(parseFloat(a.fontSize)+.2,"rem")}),(0,l.Z)(r,e.breakpoints.up("md"),{fontSize:"".concat(parseFloat(a.fontSize)+.5,"rem")}),(0,l.Z)(r,e.breakpoints.up("lg"),{fontSize:"".concat(parseFloat(a.fontSize)+.7,"rem")}),r))}}(W);const q=function(){return r.createElement(r.StrictMode,null,r.createElement(i.Z,{theme:W},r.createElement(c.ZP,null),r.createElement(I,null)))};a.render(r.createElement(q,null),document.getElementById("root"))},8027:(e,t,n)=>{e.exports=n.p+"assets/TenorSans-Regular.0d22289d38b3d37f95b6.ttf"},3984:(e,t,n)=>{e.exports=n.p+"assets/palette.1e9ddcdbd6930f9d2c75.png"},419:(e,t,n)=>{e.exports=n.p+"assets/invitation.5fbcd82b984ac822048f.mp4"}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e](n,n.exports,o),n.exports}o.m=r,e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,r,a]=e[s],c=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(c=!1,a<i&&(i=a));if(c){e.splice(s--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,r,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var i={};t=t||[null,n({}),n([]),n(n)];for(var c=2&r&&e;"object"==typeof c&&!~t.indexOf(c);c=n(c))Object.getOwnPropertyNames(c).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,o.d(a,i),a},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.e=()=>Promise.resolve(),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../"})(),(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,c,l]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(l)var s=l(o)}for(t&&t(n);u<i.length;u++)a=i[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(s)},n=self.webpackChunkinvitation_frontend=self.webpackChunkinvitation_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[987],(()=>o(7325)));i=o.O(i)})();